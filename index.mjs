!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";
/**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */const e=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,t=Symbol();class i{constructor(e,i){if(i!==t)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return e&&void 0===this.t&&(this.t=new CSSStyleSheet,this.t.replaceSync(this.cssText)),this.t}toString(){return this.cssText}}const n=new Map,s=e=>{let s=n.get(e);return void 0===s&&n.set(e,s=new i(e,t)),s},r=(e,...t)=>{const n=1===e.length?e[0]:t.reduce(((t,n,s)=>t+(e=>{if(e instanceof i)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[s+1]),e[0]);return s(n)},o=e?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const i of e.cssRules)t+=i.cssText;return(e=>s("string"==typeof e?e:e+""))(t)})(e):e
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */;var a,l,c,d;const h={toAttribute(e,t){switch(t){case Boolean:e=e?"":null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch(e){i=null}}return i}},u=(e,t)=>t!==e&&(t==t||e==e),p={attribute:!0,type:String,converter:h,reflect:!1,hasChanged:u};class g extends HTMLElement{constructor(){super(),this.Πi=new Map,this.Πo=void 0,this.Πl=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this.Πh=null,this.u()}static addInitializer(e){var t;null!==(t=this.v)&&void 0!==t||(this.v=[]),this.v.push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((t,i)=>{const n=this.Πp(i,t);void 0!==n&&(this.Πm.set(n,i),e.push(n))})),e}static createProperty(e,t=p){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const i="symbol"==typeof e?Symbol():"__"+e,n=this.getPropertyDescriptor(e,i,t);void 0!==n&&Object.defineProperty(this.prototype,e,n)}}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(n){const s=this[e];this[t]=n,this.requestUpdate(e,s,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||p}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this.Πm=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const i of t)this.createProperty(i,e[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const e of i)t.unshift(o(e))}else void 0!==e&&t.push(o(e));return t}static"Πp"(e,t){const i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}u(){var e;this.Πg=new Promise((e=>this.enableUpdating=e)),this.L=new Map,this.Π_(),this.requestUpdate(),null===(e=this.constructor.v)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,i;(null!==(t=this.ΠU)&&void 0!==t?t:this.ΠU=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(i=e.hostConnected)||void 0===i||i.call(e))}removeController(e){var t;null===(t=this.ΠU)||void 0===t||t.splice(this.ΠU.indexOf(e)>>>0,1)}"Π_"(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this.Πi.set(t,this[t]),delete this[t])}))}createRenderRoot(){var t;const i=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,i)=>{e?t.adoptedStyleSheets=i.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):i.forEach((e=>{const i=document.createElement("style");i.textContent=e.cssText,t.appendChild(i)}))})(i,this.constructor.elementStyles),i}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this.ΠU)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)})),this.Πl&&(this.Πl(),this.Πo=this.Πl=void 0)}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this.ΠU)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)})),this.Πo=new Promise((e=>this.Πl=e))}attributeChangedCallback(e,t,i){this.K(e,i)}"Πj"(e,t,i=p){var n,s;const r=this.constructor.Πp(e,i);if(void 0!==r&&!0===i.reflect){const o=(null!==(s=null===(n=i.converter)||void 0===n?void 0:n.toAttribute)&&void 0!==s?s:h.toAttribute)(t,i.type);this.Πh=e,null==o?this.removeAttribute(r):this.setAttribute(r,o),this.Πh=null}}K(e,t){var i,n,s;const r=this.constructor,o=r.Πm.get(e);if(void 0!==o&&this.Πh!==o){const e=r.getPropertyOptions(o),a=e.converter,l=null!==(s=null!==(n=null===(i=a)||void 0===i?void 0:i.fromAttribute)&&void 0!==n?n:"function"==typeof a?a:null)&&void 0!==s?s:h.fromAttribute;this.Πh=o,this[o]=l(t,e.type),this.Πh=null}}requestUpdate(e,t,i){let n=!0;void 0!==e&&(((i=i||this.constructor.getPropertyOptions(e)).hasChanged||u)(this[e],t)?(this.L.has(e)||this.L.set(e,t),!0===i.reflect&&this.Πh!==e&&(void 0===this.Πk&&(this.Πk=new Map),this.Πk.set(e,i))):n=!1),!this.isUpdatePending&&n&&(this.Πg=this.Πq())}async"Πq"(){this.isUpdatePending=!0;try{for(await this.Πg;this.Πo;)await this.Πo}catch(e){Promise.reject(e)}const e=this.performUpdate();return null!=e&&await e,!this.isUpdatePending}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this.Πi&&(this.Πi.forEach(((e,t)=>this[t]=e)),this.Πi=void 0);let t=!1;const i=this.L;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),null===(e=this.ΠU)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(i)):this.Π$()}catch(e){throw t=!1,this.Π$(),e}t&&this.E(i)}willUpdate(e){}E(e){var t;null===(t=this.ΠU)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}"Π$"(){this.L=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this.Πg}shouldUpdate(e){return!0}update(e){void 0!==this.Πk&&(this.Πk.forEach(((e,t)=>this.Πj(t,this[t],e))),this.Πk=void 0),this.Π$()}updated(e){}firstUpdated(e){}}
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
var f,m,v,b;g.finalized=!0,g.elementProperties=new Map,g.elementStyles=[],g.shadowRootOptions={mode:"open"},null===(l=(a=globalThis).reactiveElementPlatformSupport)||void 0===l||l.call(a,{ReactiveElement:g}),(null!==(c=(d=globalThis).reactiveElementVersions)&&void 0!==c?c:d.reactiveElementVersions=[]).push("1.0.0-rc.2");const y=globalThis.trustedTypes,x=y?y.createPolicy("lit-html",{createHTML:e=>e}):void 0,w=`lit$${(Math.random()+"").slice(9)}$`,k="?"+w,S=`<${k}>`,A=document,$=(e="")=>A.createComment(e),C=e=>null===e||"object"!=typeof e&&"function"!=typeof e,F=Array.isArray,E=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,T=/-->/g,_=/>/g,P=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,z=/'/g,H=/"/g,O=/^(?:script|style|textarea)$/i,R=(e=>(t,...i)=>({_$litType$:e,strings:t,values:i}))(1),U=Symbol.for("lit-noChange"),N=Symbol.for("lit-nothing"),j=new WeakMap,L=A.createTreeWalker(A,129,null,!1);class I{constructor({strings:e,_$litType$:t},i){let n;this.parts=[];let s=0,r=0;const o=e.length-1,a=this.parts,[l,c]=((e,t)=>{const i=e.length-1,n=[];let s,r=2===t?"<svg>":"",o=E;for(let t=0;t<i;t++){const i=e[t];let a,l,c=-1,d=0;for(;d<i.length&&(o.lastIndex=d,l=o.exec(i),null!==l);)d=o.lastIndex,o===E?"!--"===l[1]?o=T:void 0!==l[1]?o=_:void 0!==l[2]?(O.test(l[2])&&(s=RegExp("</"+l[2],"g")),o=P):void 0!==l[3]&&(o=P):o===P?">"===l[0]?(o=null!=s?s:E,c=-1):void 0===l[1]?c=-2:(c=o.lastIndex-l[2].length,a=l[1],o=void 0===l[3]?P:'"'===l[3]?H:z):o===H||o===z?o=P:o===T||o===_?o=E:(o=P,s=void 0);const h=o===P&&e[t+1].startsWith("/>")?" ":"";r+=o===E?i+S:c>=0?(n.push(a),i.slice(0,c)+"$lit$"+i.slice(c)+w+h):i+w+(-2===c?(n.push(void 0),t):h)}const a=r+(e[i]||"<?>")+(2===t?"</svg>":"");return[void 0!==x?x.createHTML(a):a,n]})(e,t);if(this.el=I.createElement(l,i),L.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(n=L.nextNode())&&a.length<o;){if(1===n.nodeType){if(n.hasAttributes()){const e=[];for(const t of n.getAttributeNames())if(t.endsWith("$lit$")||t.startsWith(w)){const i=c[r++];if(e.push(t),void 0!==i){const e=n.getAttribute(i.toLowerCase()+"$lit$").split(w),t=/([.?@])?(.*)/.exec(i);a.push({type:1,index:s,name:t[2],strings:e,ctor:"."===t[1]?W:"?"===t[1]?V:"@"===t[1]?Z:q})}else a.push({type:6,index:s})}for(const t of e)n.removeAttribute(t)}if(O.test(n.tagName)){const e=n.textContent.split(w),t=e.length-1;if(t>0){n.textContent=y?y.emptyScript:"";for(let i=0;i<t;i++)n.append(e[i],$()),L.nextNode(),a.push({type:2,index:++s});n.append(e[t],$())}}}else if(8===n.nodeType)if(n.data===k)a.push({type:2,index:s});else{let e=-1;for(;-1!==(e=n.data.indexOf(w,e+1));)a.push({type:7,index:s}),e+=w.length-1}s++}}static createElement(e,t){const i=A.createElement("template");return i.innerHTML=e,i}}function B(e,t,i=e,n){var s,r,o,a;if(t===U)return t;let l=void 0!==n?null===(s=i.Σi)||void 0===s?void 0:s[n]:i.Σo;const c=C(t)?void 0:t._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(r=null==l?void 0:l.O)||void 0===r||r.call(l,!1),void 0===c?l=void 0:(l=new c(e),l.T(e,i,n)),void 0!==n?(null!==(o=(a=i).Σi)&&void 0!==o?o:a.Σi=[])[n]=l:i.Σo=l),void 0!==l&&(t=B(e,l.S(e,t.values),l,n)),t}class D{constructor(e,t){this.l=[],this.N=void 0,this.D=e,this.M=t}u(e){var t;const{el:{content:i},parts:n}=this.D,s=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:A).importNode(i,!0);L.currentNode=s;let r=L.nextNode(),o=0,a=0,l=n[0];for(;void 0!==l;){if(o===l.index){let t;2===l.type?t=new M(r,r.nextSibling,this,e):1===l.type?t=new l.ctor(r,l.name,l.strings,this,e):6===l.type&&(t=new K(r,this,e)),this.l.push(t),l=n[++a]}o!==(null==l?void 0:l.index)&&(r=L.nextNode(),o++)}return s}v(e){let t=0;for(const i of this.l)void 0!==i&&(void 0!==i.strings?(i.I(e,i,t),t+=i.strings.length-2):i.I(e[t])),t++}}class M{constructor(e,t,i,n){this.type=2,this.N=void 0,this.A=e,this.B=t,this.M=i,this.options=n}setConnected(e){var t;null===(t=this.P)||void 0===t||t.call(this,e)}get parentNode(){return this.A.parentNode}get startNode(){return this.A}get endNode(){return this.B}I(e,t=this){e=B(this,e,t),C(e)?e===N||null==e||""===e?(this.H!==N&&this.R(),this.H=N):e!==this.H&&e!==U&&this.m(e):void 0!==e._$litType$?this._(e):void 0!==e.nodeType?this.$(e):(e=>{var t;return F(e)||"function"==typeof(null===(t=e)||void 0===t?void 0:t[Symbol.iterator])})(e)?this.g(e):this.m(e)}k(e,t=this.B){return this.A.parentNode.insertBefore(e,t)}$(e){this.H!==e&&(this.R(),this.H=this.k(e))}m(e){const t=this.A.nextSibling;null!==t&&3===t.nodeType&&(null===this.B?null===t.nextSibling:t===this.B.previousSibling)?t.data=e:this.$(A.createTextNode(e)),this.H=e}_(e){var t;const{values:i,_$litType$:n}=e,s="number"==typeof n?this.C(e):(void 0===n.el&&(n.el=I.createElement(n.h,this.options)),n);if((null===(t=this.H)||void 0===t?void 0:t.D)===s)this.H.v(i);else{const e=new D(s,this),t=e.u(this.options);e.v(i),this.$(t),this.H=e}}C(e){let t=j.get(e.strings);return void 0===t&&j.set(e.strings,t=new I(e)),t}g(e){F(this.H)||(this.H=[],this.R());const t=this.H;let i,n=0;for(const s of e)n===t.length?t.push(i=new M(this.k($()),this.k($()),this,this.options)):i=t[n],i.I(s),n++;n<t.length&&(this.R(i&&i.B.nextSibling,n),t.length=n)}R(e=this.A.nextSibling,t){var i;for(null===(i=this.P)||void 0===i||i.call(this,!1,!0,t);e&&e!==this.B;){const t=e.nextSibling;e.remove(),e=t}}}class q{constructor(e,t,i,n,s){this.type=1,this.H=N,this.N=void 0,this.V=void 0,this.element=e,this.name=t,this.M=n,this.options=s,i.length>2||""!==i[0]||""!==i[1]?(this.H=Array(i.length-1).fill(N),this.strings=i):this.H=N}get tagName(){return this.element.tagName}I(e,t=this,i,n){const s=this.strings;let r=!1;if(void 0===s)e=B(this,e,t,0),r=!C(e)||e!==this.H&&e!==U,r&&(this.H=e);else{const n=e;let o,a;for(e=s[0],o=0;o<s.length-1;o++)a=B(this,n[i+o],t,o),a===U&&(a=this.H[o]),r||(r=!C(a)||a!==this.H[o]),a===N?e=N:e!==N&&(e+=(null!=a?a:"")+s[o+1]),this.H[o]=a}r&&!n&&this.W(e)}W(e){e===N?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class W extends q{constructor(){super(...arguments),this.type=3}W(e){this.element[this.name]=e===N?void 0:e}}class V extends q{constructor(){super(...arguments),this.type=4}W(e){e&&e!==N?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}class Z extends q{constructor(){super(...arguments),this.type=5}I(e,t=this){var i;if((e=null!==(i=B(this,e,t,0))&&void 0!==i?i:N)===U)return;const n=this.H,s=e===N&&n!==N||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,r=e!==N&&(n===N||s);s&&this.element.removeEventListener(this.name,this,n),r&&this.element.addEventListener(this.name,this,e),this.H=e}handleEvent(e){var t,i;"function"==typeof this.H?this.H.call(null!==(i=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==i?i:this.element,e):this.H.handleEvent(e)}}class K{constructor(e,t,i){this.element=e,this.type=6,this.N=void 0,this.V=void 0,this.M=t,this.options=i}I(e){B(this,e)}}
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
var J,G,X,Y,Q,ee;null===(m=(f=globalThis).litHtmlPlatformSupport)||void 0===m||m.call(f,I,M),(null!==(v=(b=globalThis).litHtmlVersions)&&void 0!==v?v:b.litHtmlVersions=[]).push("2.0.0-rc.3"),(null!==(J=(ee=globalThis).litElementVersions)&&void 0!==J?J:ee.litElementVersions=[]).push("3.0.0-rc.2");class te extends g{constructor(){super(...arguments),this.renderOptions={host:this},this.Φt=void 0}createRenderRoot(){var e,t;const i=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=i.firstChild),i}update(e){const t=this.render();super.update(e),this.Φt=((e,t,i)=>{var n,s;const r=null!==(n=null==i?void 0:i.renderBefore)&&void 0!==n?n:t;let o=r._$litPart$;if(void 0===o){const e=null!==(s=null==i?void 0:i.renderBefore)&&void 0!==s?s:null;r._$litPart$=o=new M(t.insertBefore($(),e),e,void 0,i)}return o.I(e),o})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this.Φt)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this.Φt)||void 0===e||e.setConnected(!1)}render(){return U}}te.finalized=!0,te._$litElement$=!0,null===(X=(G=globalThis).litElementHydrateSupport)||void 0===X||X.call(G,{LitElement:te}),null===(Q=(Y=globalThis).litElementPlatformSupport)||void 0===Q||Q.call(Y,{LitElement:te});var ie=r`:host{display:grid;grid-template-columns:360px 1fr;grid-template-rows:30px 80px 1fr;width:100%;height:100%;max-width:860px;max-height:600px;margin:70px auto 0;grid-gap:10px;gap:10px}#status{grid-column:1/3;padding:4px 8px;border-radius:8px;text-align:center;letter-spacing:3em;text-indent:3em;text-transform:uppercase;background-color:#fff1af}#status[running]{background-color:rgba(196,255,166,.6588235294117647)}#editor-wrap{grid-row:2/4;width:100%;height:100%;max-height:inherit;position:relative}#editor-wrap>#current-rule{position:absolute;left:0;top:12px;width:95%;height:20px;opacity:.2;z-index:-1}#editor-wrap #editor[running]+#current-rule{background-color:green;z-index:4}#editor-wrap #editor[completed]+#current-rule{background-color:red;z-index:4}#editor{max-height:inherit;grid-row:1/3;position:relative;width:100%;height:100%;border:2px solid var(--color-border);border-radius:8px;border-left:none;box-sizing:border-box;background-color:var(--color-bg-input);--editor-bg-color:var(--color-bg-input);--editor-text-color:var(--color-text);--lines-bg-color:var(--color-bg-light);--lines-text-color:var(--color-text-secondary);--hl-color-operator:#d00;--hl-color-comment:#3d9648;--line-height:20px}#editor:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ddd;z-index:-1;border-radius:inherit;opacity:0;transition:opacity .2s}#editor[running]:before{opacity:0;z-index:4;cursor:not-allowed}#controls{grid-row:2}#controls #string{box-sizing:border-box;width:100%;padding:4px 8px;border:2px solid var(--color-border);border-radius:8px;outline:none;transition:.2s;font:inherit;background-color:var(--color-bg-input);color:var(--color-text)}#controls #string[disabled]{cursor:not-allowed}#controls #buttons{margin-top:.8em;display:flex;width:100%;justify-content:space-between;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#controls #buttons button#step{background-color:#ffe279;border-color:#dfc66e}#controls #buttons button#play{background-color:#b8f39a;border-color:#9fd585}#controls #buttons button#reset{background-color:#ffb2b2;border-color:#d38c8c}#controls #buttons button{border:2px solid var(--color-border);background-color:transparent;border-radius:8px;font-size:1.3em;width:4em;cursor:pointer;transition:.2s}#controls #buttons button:hover{filter:brightness(1.1)}#history[completed]{padding-top:calc(var(--line-height)*2)}#history{grid-row:3;grid-column:2;--line-height:15pt;display:grid;grid-template-columns:40px auto;grid-template-rows:repeat(auto-fill,var(--line-height));grid-column-gap:2px;-moz-column-gap:2px;column-gap:2px;width:100%;height:100%;position:relative;border-radius:8px;border:2px solid var(--color-border);box-sizing:border-box;background-color:var(--color-bg-input);overflow:auto}#history:after{z-index:0;content:"";position:absolute;top:0;left:0;width:40px;height:100%;background-color:var(--color-bg-light);border-radius:8px 0 0 8px}#history[completed]:after{top:calc(var(--line-height)*2);height:calc(100% - var(--line-height)*2)}#history>#terminated{position:absolute;top:0;left:0;width:100%;height:calc(var(--line-height)*2);display:none;align-items:center;justify-content:center;background-color:rgba(255,0,0,.18823529411764706);font-size:1.2em;color:#970000}#history[completed]>#terminated{display:flex}#history :is(.line,.rule){font-size:12pt;color:var(--color-text)}#history>:is(.line){text-align:right;padding-right:8px}#history>:is(.line,.empty-line){background-color:var(--color-bg-light);z-index:1}#history>.rule{position:relative}#history>.rule>hr{position:absolute;border:none;margin:0;background:#c7c7c7;width:100%;height:2px;top:calc(50% - 1px)}#history>.rule>div{position:relative;background:#fff;padding:0 10px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;min-width:80px;float:right;text-align:right}@media (max-width:500px){:host{grid-template-columns:1fr;grid-template-rows:30px 80px 300px 300px;max-height:unset;height:unset;width:100%;padding:0 8px;box-sizing:border-box;margin-top:20px}#status{letter-spacing:2em;text-indent:2em}#controls,#editor-wrap,#history,#status{grid-row:unset;grid-column:unset}#controls{grid-row:2}}`,ne=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,i=0,n={},s={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof r?new r(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++i}),e.__id},clone:function e(t,i){var n,r;switch(i=i||{},s.util.type(t)){case"Object":if(r=s.util.objId(t),i[r])return i[r];for(var o in n={},i[r]=n,t)t.hasOwnProperty(o)&&(n[o]=e(t[o],i));return n;case"Array":return r=s.util.objId(t),i[r]?i[r]:(n=[],i[r]=n,t.forEach((function(t,s){n[s]=e(t,i)})),n);default:return t}},getLanguage:function(e){for(;e&&!t.test(e.className);)e=e.parentElement;return e?(e.className.match(t)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(n){var e=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(n.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var i in t)if(t[i].src==e)return t[i]}return null}},isActive:function(e,t,i){for(var n="no-"+t;e;){var s=e.classList;if(s.contains(t))return!0;if(s.contains(n))return!1;e=e.parentElement}return!!i}},languages:{plain:n,plaintext:n,text:n,txt:n,extend:function(e,t){var i=s.util.clone(s.languages[e]);for(var n in t)i[n]=t[n];return i},insertBefore:function(e,t,i,n){var r=(n=n||s.languages)[e],o={};for(var a in r)if(r.hasOwnProperty(a)){if(a==t)for(var l in i)i.hasOwnProperty(l)&&(o[l]=i[l]);i.hasOwnProperty(a)||(o[a]=r[a])}var c=n[e];return n[e]=o,s.languages.DFS(s.languages,(function(t,i){i===c&&t!=e&&(this[t]=o)})),o},DFS:function e(t,i,n,r){r=r||{};var o=s.util.objId;for(var a in t)if(t.hasOwnProperty(a)){i.call(t,a,t[a],n||a);var l=t[a],c=s.util.type(l);"Object"!==c||r[o(l)]?"Array"!==c||r[o(l)]||(r[o(l)]=!0,e(l,i,a,r)):(r[o(l)]=!0,e(l,i,null,r))}}},plugins:{},highlightAll:function(e,t){s.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,i){var n={callback:i,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};s.hooks.run("before-highlightall",n),n.elements=Array.prototype.slice.apply(n.container.querySelectorAll(n.selector)),s.hooks.run("before-all-elements-highlight",n);for(var r,o=0;r=n.elements[o++];)s.highlightElement(r,!0===t,n.callback)},highlightElement:function(i,n,r){var o=s.util.getLanguage(i),a=s.languages[o];i.className=i.className.replace(t,"").replace(/\s+/g," ")+" language-"+o;var l=i.parentElement;l&&"pre"===l.nodeName.toLowerCase()&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+o);var c={element:i,language:o,grammar:a,code:i.textContent};function d(e){c.highlightedCode=e,s.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,s.hooks.run("after-highlight",c),s.hooks.run("complete",c),r&&r.call(c.element)}if(s.hooks.run("before-sanity-check",c),(l=c.element.parentElement)&&"pre"===l.nodeName.toLowerCase()&&!l.hasAttribute("tabindex")&&l.setAttribute("tabindex","0"),!c.code)return s.hooks.run("complete",c),void(r&&r.call(c.element));if(s.hooks.run("before-highlight",c),c.grammar)if(n&&e.Worker){var h=new Worker(s.filename);h.onmessage=function(e){d(e.data)},h.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else d(s.highlight(c.code,c.grammar,c.language));else d(s.util.encode(c.code))},highlight:function(e,t,i){var n={code:e,grammar:t,language:i};return s.hooks.run("before-tokenize",n),n.tokens=s.tokenize(n.code,n.grammar),s.hooks.run("after-tokenize",n),r.stringify(s.util.encode(n.tokens),n.language)},tokenize:function(e,t){var i=t.rest;if(i){for(var n in i)t[n]=i[n];delete t.rest}var s=new l;return c(s,s.head,e),a(e,s,t,s.head,0),function(e){var t=[],i=e.head.next;for(;i!==e.tail;)t.push(i.value),i=i.next;return t}(s)},hooks:{all:{},add:function(e,t){var i=s.hooks.all;i[e]=i[e]||[],i[e].push(t)},run:function(e,t){var i=s.hooks.all[e];if(i&&i.length)for(var n,r=0;n=i[r++];)n(t)}},Token:r};function r(e,t,i,n){this.type=e,this.content=t,this.alias=i,this.length=0|(n||"").length}function o(e,t,i,n){e.lastIndex=t;var s=e.exec(i);if(s&&n&&s[1]){var r=s[1].length;s.index+=r,s[0]=s[0].slice(r)}return s}function a(e,t,i,n,l,h){for(var u in i)if(i.hasOwnProperty(u)&&i[u]){var p=i[u];p=Array.isArray(p)?p:[p];for(var g=0;g<p.length;++g){if(h&&h.cause==u+","+g)return;var f=p[g],m=f.inside,v=!!f.lookbehind,b=!!f.greedy,y=f.alias;if(b&&!f.pattern.global){var x=f.pattern.toString().match(/[imsuy]*$/)[0];f.pattern=RegExp(f.pattern.source,x+"g")}for(var w=f.pattern||f,k=n.next,S=l;k!==t.tail&&!(h&&S>=h.reach);S+=k.value.length,k=k.next){var A=k.value;if(t.length>e.length)return;if(!(A instanceof r)){var $,C=1;if(b){if(!($=o(w,S,e,v)))break;var F=$.index,E=$.index+$[0].length,T=S;for(T+=k.value.length;F>=T;)T+=(k=k.next).value.length;if(S=T-=k.value.length,k.value instanceof r)continue;for(var _=k;_!==t.tail&&(T<E||"string"==typeof _.value);_=_.next)C++,T+=_.value.length;C--,A=e.slice(S,T),$.index-=S}else if(!($=o(w,0,A,v)))continue;F=$.index;var P=$[0],z=A.slice(0,F),H=A.slice(F+P.length),O=S+A.length;h&&O>h.reach&&(h.reach=O);var R=k.prev;if(z&&(R=c(t,R,z),S+=z.length),d(t,R,C),k=c(t,R,new r(u,m?s.tokenize(P,m):P,y,P)),H&&c(t,k,H),C>1){var U={cause:u+","+g,reach:O};a(e,t,i,k.prev,S,U),h&&U.reach>h.reach&&(h.reach=U.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,i){var n=t.next,s={value:i,prev:t,next:n};return t.next=s,n.prev=s,e.length++,s}function d(e,t,i){for(var n=t.next,s=0;s<i&&n!==e.tail;s++)n=n.next;t.next=n,n.prev=t,e.length-=s}if(e.Prism=s,r.stringify=function e(t,i){if("string"==typeof t)return t;if(Array.isArray(t)){var n="";return t.forEach((function(t){n+=e(t,i)})),n}var r={type:t.type,content:e(t.content,i),tag:"span",classes:["token",t.type],attributes:{},language:i},o=t.alias;o&&(Array.isArray(o)?Array.prototype.push.apply(r.classes,o):r.classes.push(o)),s.hooks.run("wrap",r);var a="";for(var l in r.attributes)a+=" "+l+'="'+(r.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+r.tag+' class="'+r.classes.join(" ")+'"'+a+">"+r.content+"</"+r.tag+">"},!e.document)return e.addEventListener?(s.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var i=JSON.parse(t.data),n=i.language,r=i.code,o=i.immediateClose;e.postMessage(s.highlight(r,s.languages[n],n)),o&&e.close()}),!1),s):s;var h=s.util.currentScript();function u(){s.manual||s.highlightAll()}if(h&&(s.filename=h.src,h.hasAttribute("data-manual")&&(s.manual=!0)),!s.manual){var p=document.readyState;"loading"===p||"interactive"===p&&h&&h.defer?document.addEventListener("DOMContentLoaded",u):window.requestAnimationFrame?window.requestAnimationFrame(u):window.setTimeout(u,16)}return s}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});"undefined"!=typeof module&&module.exports&&(module.exports=ne),"undefined"!=typeof global&&(global.Prism=ne),ne.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?\]\]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},ne.languages.markup.tag.inside["attr-value"].inside.entity=ne.languages.markup.entity,ne.languages.markup.doctype.inside["internal-subset"].inside=ne.languages.markup,ne.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(ne.languages.markup.tag,"addInlined",{value:function(e,t){var i={};i["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:ne.languages[t]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var n={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};n["language-"+t]={pattern:/[\s\S]+/,inside:ne.languages[t]};var s={};s[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:n},ne.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(ne.languages.markup.tag,"addAttribute",{value:function(e,t){ne.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:ne.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),ne.languages.html=ne.languages.markup,ne.languages.mathml=ne.languages.markup,ne.languages.svg=ne.languages.markup,ne.languages.xml=ne.languages.extend("markup",{}),ne.languages.ssml=ne.languages.xml,ne.languages.atom=ne.languages.xml,ne.languages.rss=ne.languages.xml,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var i=e.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))}(ne),ne.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},ne.languages.javascript=ne.languages.extend("clike",{"class-name":[ne.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),ne.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,ne.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:ne.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:ne.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:ne.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:ne.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:ne.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),ne.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:ne.languages.javascript}},string:/[\s\S]+/}}}),ne.languages.markup&&(ne.languages.markup.tag.addInlined("script","javascript"),ne.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),ne.languages.js=ne.languages.javascript,function(){if(void 0!==ne&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},t="data-src-status",i="loading",n="loaded",s='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])',r=/\blang(?:uage)?-([\w-]+)\b/i;ne.hooks.add("before-highlightall",(function(e){e.selector+=", "+s})),ne.hooks.add("before-sanity-check",(function(r){var o=r.element;if(o.matches(s)){r.code="",o.setAttribute(t,i);var l=o.appendChild(document.createElement("CODE"));l.textContent="Loading…";var c=o.getAttribute("data-src"),d=r.language;if("none"===d){var h=(/\.(\w+)$/.exec(c)||[,"none"])[1];d=e[h]||h}a(l,d),a(o,d);var u=ne.plugins.autoloader;u&&u.loadLanguages(d);var p=new XMLHttpRequest;p.open("GET",c,!0),p.onreadystatechange=function(){var e,i;4==p.readyState&&(p.status<400&&p.responseText?(o.setAttribute(t,n),l.textContent=p.responseText,ne.highlightElement(l)):(o.setAttribute(t,"failed"),p.status>=400?l.textContent=(e=p.status,i=p.statusText,"✖ Error "+e+" while fetching file: "+i):l.textContent="✖ Error: File does not exist or is empty"))},p.send(null)}})),ne.plugins.fileHighlight={highlight:function(e){for(var t,i=(e||document).querySelectorAll(s),n=0;t=i[n++];)ne.highlightElement(t)}};var o=!1;ne.fileHighlight=function(){o||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),o=!0),ne.plugins.fileHighlight.highlight.apply(this,arguments)}}function a(e,t){var i=e.className;i=i.replace(r," ")+" language-"+t,e.className=i.replace(/\s+/g," ").trim()}}();var se=r`:host{display:block;width:100%;--font-family:monospace;--font-size:12pt;--line-height:14pt;--lines-width:40px;--editor-bg-color:#fff;--editor-text-color:#000;--editor-caret-color:var(--editor-text-color);--editor-sel-color:#b9ecff;--lines-bg-color:#eee;--lines-text-color:#000;--scroll-track-color:#aaa;--scroll-thumb-color:#eee;--hl-color-string:#00ae22;--hl-color-function:#004eff;--hl-color-number:#dd9031;--hl-color-operator:#5a5a5a;--hl-color-class-name:#3cabb6;--hl-color-punctuation:#4a4a4a;--hl-color-keyword:#8500ff;--hl-color-comment:#aaa;--hl-color-tag:#3a9bca;--hl-color-selector:#3a9bca;--hl-color-property:#713aca}.litcode,:host{height:100%;max-height:inherit;max-width:inherit}.litcode{border-radius:inherit;overflow:auto;display:grid;grid-template-columns:var(--lines-width) auto;position:relative;line-height:var(--line-height);font-family:var(--font-family);font-size:var(--font-size)}.litcode :is(.litcode_textarea,.litcode_highlight){grid-column:1/3;grid-row:1;box-sizing:border-box;height:100%;width:100%;height:calc(var(--height) + 100% - var(--line-height)*4)}.litcode .litcode_linenumbers~:is(.litcode_textarea,.litcode_highlight){grid-column:2;grid-row:1}.litcode :is(.litcode_textarea,.litcode_linenumbers,.litcode_highlight){padding:4px}.litcode .litcode_linenumbers{position:sticky;left:0;padding-right:1px;text-align:right;background-color:var(--lines-bg-color);color:var(--lines-text-color);height:100%;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.litcode .litcode_textarea{font:inherit;resize:none;border:none;outline:none;margin:0;white-space:pre;color:transparent;height:100%;caret-color:var(--editor-caret-color);background-color:var(--editor-bg-color)}.litcode .litcode_textarea::-moz-selection{background-color:var(--editor-sel-color)}.litcode .litcode_textarea::selection{background-color:var(--editor-sel-color)}.litcode .litcode_highlight{width:100%;height:100%;color:var(--editor-text-color);pointer-events:none}.litcode .litcode_highlight>pre{margin:0}.litcode::-webkit-scrollbar{width:10px;height:10px}.litcode::-webkit-scrollbar-track{background-color:var(--scroll-track-color);border-radius:8px}.litcode::-webkit-scrollbar-thumb{background-color:var(--scroll-thumb-color);border-radius:8px}.litcode::-webkit-scrollbar-corner{background-color:var(--scroll-track-color)}.litcode[default] .token.string{color:var(--hl-color-string)}.litcode[default] .token.function{color:var(--hl-color-function)}.litcode[default] .token.number{color:var(--hl-color-number)}.litcode[default] .token.operator{color:var(--hl-color-operator)}.litcode[default] .token.class-name{color:var(--hl-color-class-name)}.litcode[default] .token.punctuation{color:var(--hl-color-punctuation)}.litcode[default] .token.keyword{color:var(--hl-color-keyword)}.litcode[default] .token.comment{color:var(--hl-color-comment)}.litcode[default] .token.tag{color:var(--hl-color-tag)}.litcode[default] .token.selector{color:var(--hl-color-selector)}.litcode[default] .token.property{color:var(--hl-color-property)}`;const re="undefined"!=typeof Prism;function oe(e){return"string"==typeof e?R`${e}`:R`<span class="token ${e.type} ${e.alias}">${Array.isArray(e.content)?e.content.map(oe):R`${e.content}`}</span>`}customElements.define("lit-code",class extends te{static get styles(){return se}static get properties(){return{code:{type:String},grammar:{type:Object},language:{type:String},noshadow:{attribute:!0},linenumbers:{attribute:!0}}}get shadowDom(){return!this.hasAttribute("noshadow")}constructor(){super(),this.opening=["(","{","[","'",'"'],this.closing=[")","}","]","'",'"'],this.code="",this.indent="  ",this.language="clike",re&&(this.grammar=Prism.languages[this.language])}update(e){if(super.update(e),re&&e.has("language")){const e=Prism.languages[this.language.toLowerCase()];if(void 0===e)throw new Error("Unsupported Prism language");this.grammar=e}}_getElement(e){return this.shadowDom?this.shadowRoot.querySelector(`.litcode_${e}`):this.querySelector(`.litcode_${e}`)}firstUpdated(){this.elTextarea=this._getElement("textarea"),this.elContainer=this._getElement("litcode"),this.updateTextarea()}render(){return R` ${this.shadowDom?R``:R`<style>${se.cssText}</style>`} <div class="litcode litcode_litcode" ?default="${!this.hasAttribute("mycolors")}"> ${this.hasAttribute("linenumbers")?R` <div class="litcode_linenumbers"> <div class="litcode_line">1</div> ${(this.code.match(/\r?\n/g)||[]).map(((e,t)=>R` <div class="litcode_line">${t+2}</div> `))} </div> `:R``} <textarea class="litcode_textarea" spellcheck="false" @keydown="${this.handleKeys}" @input="${this.handleInput}"></textarea> <code class="litcode_highlight"><pre>${re?Prism.tokenize(this.code,this.grammar).map(oe):R`${this.code}`}</pre></code> </div> `}setCode(e){this.code=e,this.updateTextarea()}getCode(){return this.code}createRenderRoot(){return this.shadowDom?super.createRenderRoot():this}setCursor(e){this.elTextarea.setSelectionRange(e,e)}setSelect(e,t){this.elTextarea.setSelectionRange(e,t)}getCurrentLineIndent(){const e=this.elTextarea.selectionStart,t=this.elTextarea.selectionEnd,i=this.code.lastIndexOf("\n",e-1)+1,n=(()=>{let e=i;for(;" "===this.code[e]&&e<t;)e++;return e-i})();return" ".repeat(n)}updateTextarea(){this.elTextarea&&(this.elTextarea.value=this.code,this.dispatchEvent(new CustomEvent("update",{detail:this.code})))}insertCode(e,t,i=!0){this.code=this.code.substring(0,e)+t+this.code.substring(e),this.updateTextarea(),i&&this.setCursor(e+t.length)}replaceCode(e,t,i="",n=!0){this.code=this.code.substring(0,e)+i+this.code.substring(t),this.updateTextarea(),n&&this.setCursor(e+i.length)}handleKeys(e){switch(e.code){case"Tab":this.handleTabs(e);break;case"Enter":this.handleNewLine(e);break;case"Backspace":this.handleBackspace(e);break;default:this.opening.includes(e.key)?this.handleAutoClose(e):this.closing.includes(e.key)&&this.handleAutoSkip(e)}}handleInput({target:e}){this.code=e.value,this.dispatchEvent(new CustomEvent("update",{detail:this.code}))}handleTabs(e){e.preventDefault();const t=this.elTextarea.selectionStart,i=this.elTextarea.selectionEnd;if(t!==i){const n=Math.max(0,this.code.lastIndexOf("\n",t-1)),s=Math.max(this.code.indexOf("\n",i),i);let r=0,o=this.code.substring(n,s),a=this.indent.length;0===n&&(o="\n"+o),e.shiftKey?(a=-a,r=(o.match(new RegExp("\n"+this.indent,"g"))||[]).length,o=o.replaceAll("\n"+this.indent,"\n")):(r=(o.match(/\n/g)||[]).length,o=o.replaceAll("\n","\n"+this.indent)),0===n&&(o=o.replace(/^\n/,"")),this.replaceCode(n,s,o,!1);const l=Math.max(n+1,t+a),c=i+r*a;this.setSelect(l,c)}else this.insertCode(t,this.indent,!0)}handleBackspace(e){const t=this.elTextarea.selectionStart,i=this.elTextarea.selectionEnd;if(e.ctrlKey||t!==i)return;e.preventDefault();const n=this.code[t-1],s=this.code[t],r=this.opening.includes(n)&&this.closing.includes(s),o=this.closing[this.opening.indexOf(n)]===s;if(r&&o)this.replaceCode(t-1,t+1);else{const e=t-this.indent.length,i=t;this.code.substring(e,i)===this.indent?this.replaceCode(e,i):this.replaceCode(t-1,t)}}handleAutoClose(e){const t=this.elTextarea.selectionStart,i=this.elTextarea.selectionEnd;if("'"===this.code[t]||'"'===this.code[t])return this.handleAutoSkip(e);if(e.preventDefault(),t===i){const i=e.key,n=this.closing[this.opening.indexOf(i)];if("{"!==i||"\n"!==this.code[t]&&this.code.length!==t)this.insertCode(t,i+n),this.setCursor(t+1);else{const e="\n"+this.getCurrentLineIndent();this.insertCode(t,i+e+this.indent+e+n),this.setCursor(t+e.length+this.indent.length+1)}}}handleAutoSkip(e){const t=this.elTextarea.selectionStart;this.code[t]===e.key&&(e.preventDefault(),this.setCursor(t+1))}handleNewLine(e){e.preventDefault(),this.insertCode(this.elTextarea.selectionStart,"\n"+this.getCurrentLineIndent()),this.elTextarea.selectionStart===this.code.length&&(this.elContainer.scrollTop=this.elContainer.scrollHeight)}});const ae="#This program moves a, b\n#letters to the end of the word\n*a -> A\n*b -> B\nAa -> aA\nAb -> bA\nBa -> aB\nBb -> bB\nA |-> a\nB |-> b\n* |-> \n -> *";class le extends te{static styles=[ie];static properties={input:{type:String},history:{type:Array},running:{type:Boolean}};constructor(){super(),this.history=[{}],this.lines=[],this.curStep=0,this.input=localStorage.getItem("input"),null===this.input&&(this.input="abbaba"),this.lastUnmodifedInput=this.input,this.rawCode=localStorage.getItem("code"),null===this.rawCode&&(this.rawCode=ae),this.reset(),this.shortcuts={Digit1:this.step,Digit2:this.play,Digit3:this.reset,Digit9:()=>{this.editor.setCode(ae)}},window.addEventListener("keydown",(e=>{e.ctrlKey&&void 0!==this.shortcuts[e.code]&&(e.preventDefault(),this.shortcuts[e.code].bind(this)())})),Prism.languages.markov={operator:/(?:->|\|->|=>)/,comment:/#.*/}}firstUpdated(){this.editor=this.shadowRoot.getElementById("editor"),this._lineHl=this.shadowRoot.getElementById("current-rule")}render(){return R` <div id="status" ?running="${this.running}">${this.running?"running":"idle"}</div> <div id="editor-wrap"> <lit-code id="editor" language="markov" code="${this.rawCode}" @focus="${this.hideLineHl}" @update="${this.codeUpdate}" linenumbers ?running="${this.running}" ?completed="${this.needReset}"></lit-code> <div id="current-rule"></div> </div> <div id="controls"> <input type="text" spellcheck="false" id="string" .value="${this.input}" placeholder="Enter something" @keydown="${this.rejectIncorrect}" @input="${this.inputUpdate}" ?disabled="${this.running}"> <div id="buttons"> <button id="step" @click="${this.step}">Step</button> <button id="play" @click="${this.play}">Play</button> <button id="reset" @click="${this.hardReset}">Reset</button> </div> </div> <div id="history" ?completed="${this.needReset}"> <div id="terminated">S T O P</div> ${this.history.map(((e,t)=>R` <div class="line">${t}</div> <div class="change">${e.change}</div> ${t>0?R` <div class="empty-line"></div> <div class="rule"> <hr> <div>${e.rule}</div> </div> `:R``} `)).reverse()} </div> `}setLineHighlite(e){const t=this.editor.elTextarea,i=this.editor.elContainer,[n]=document.defaultView.getComputedStyle(i).getPropertyValue("line-height").split("px"),s=e*n;(s-i.scrollTop>this.editor.clientHeight||s<i.scrollTop)&&(i.scrollTop=s);const r=t.offsetHeight-this.editor.clientHeight,o=(r&&s>r?-7:4)+(e-Math.floor(i.scrollTop/n))*n;this._lineHl.style.top=`${o}px`}play(){this.running=!0;let e=0;for(;e<1e3&&this.step();)e++;1e3===e&&console.log("Too many operations!"),this.running=!1,this.needReset=!0}step(e=!0){if(this.needReset)return this.reset(),!0;this.running=!0;let t=0,i=!0,n=!1,s=this.input,r="";for(;i&&t<this.code.length;){if(r=this.code[t].replace(/ +/g,"").replace(/#.*/,""),0===r.length){t++;continue}let[e,s]=r.split("|->");n=void 0!==s,n||([e,s]=r.split("=>"),n=void 0!==s),n||([e,s]=r.split("->")),void 0===s&&console.log(`Syntax error [line ${t}]: ${this.code[t]}`),this.input.includes(e)&&(this.input=this.input.replace(e,s),i=!1),t++}return e&&this.setLineHighlite(t-1),r=this.code[t-1].replace(/(?:\|->|=>)/,"↦"),r=r.replace("->","→"),this.history.push({change:this.input,rule:r}),this.input==s&&this.requestUpdate(),!i&&!n||(this.running=!1,this.needReset=!0,!1)}rejectIncorrect(e){["#"," "].includes(e.key)&&(e.preventDefault(),console.log("Space and # symbols are not allowed"))}hideLineHl(){this.needReset&&this.reset()}hardReset(){this.input=this.lastUnmodifedInput,this.reset()}reset(){this.lastUnmodifedInput=this.input,this.history=[{change:this.input,rule:" "}],this.running=!1,this.needReset=!1}inputUpdate({target:e}){this.input=e.value,this.history=[{change:this.input,rule:" "}],localStorage.setItem("input",this.input)}codeUpdate({detail:e}){this.code=e.split("\n"),localStorage.setItem("code",e)}}customElements.define("markov-emulator",le)}));
